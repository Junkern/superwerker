AWSTemplateFormatVersion: 2010-09-09

Parameters:
  RootMailDomain:
    Type: String

Resources:

  RootMailZoneDelegation:
    Type: AWS::Route53::RecordSet
    Properties:
      HostedZoneName: !Sub ${RootMailDomain}.
      Name: !Sub aws.${RootMailDomain}
      ResourceRecords: !Split
        - ','
        - !ImportValue superwerker-rootmail-DelegationTarget
      TTL: 60
      Type: NS
